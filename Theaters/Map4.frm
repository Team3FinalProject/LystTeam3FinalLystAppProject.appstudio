{
  "!type": "Form",
  "_uuid": "9ea30cc0b30b4647a9acc34cf618cd0b",
  "HTML": "",
  "attributes": "",
  "background": "",
  "backgroundimage": "",
  "borderColor": "",
  "borderStyle": "",
  "borderWidth": "",
  "cached_js": "/*   TO USE THIS PROJECT \nThis project uses a Google Places API to get rental apartments by CU. \nIt then takes these results and uses them in a Google Maps API to make a map with clickable markers. \n\n1. Make sure your Google Project that the API key is for is attached to the Google Maps and Google Places API's (in Google Console > Libraries). \n2. Make sure your Google Project is attached to a billing account (you'll have to give them your credit card - you won't get charges, cancel after class is over)\n3. Add your own Google API key to the Project Property 'extra headers' as indicated.\n4. Add the same googleAPI key to the api call in 'requestURLApt' below as indicated\n*/\n\nlet requestURL = \"https://maps.googleapis.com/maps/api/place/textsearch/json?query=theater&key=AIzaSyAGZ6PSIvz339qdRJ2ZMf1EMxESs5rbdJ4&location=41.265331,-95.949364&radius=5000\"\nvar theaters = []\nvar infoTheaters = []\n\nfunction onXHRLoad() {\n  let message = \"\"\n\n  // 'this' is another name for the object returned from the API call\n  let apiData = JSON.parse(this.responseText)\n  // good data coming back from API call\n\n  for (i = 0; i < apiData.results.length; i++) \n    theaters[i] = {\n      \"description\": apiData.results[i].name,\n      \"lat\": apiData.results[i].geometry.location.lat,\n      \"lng\": apiData.results[i].geometry.location.lng,\n      \"address\": apiData.results[i].formatted_address\n  }\n}\n\nfunction callAPI(URL) {\n  var xhttp = new XMLHttpRequest()\n\n  // if you need cors (you'll get a cors error if you don't have it and you need it)\n  // use this code to add the cors code to your url \n  xhttp.open('GET', 'https://cors.bridged.cc/' + requestURL)\n\n  // if you DON'T need cors use this code:\n  //xhttp.open('GET',URL)\n\n  // Headers\n  // if you need to set the returned data type, use this line of code: \n  //xhttp.setRequestHeader('Content-Type', 'application/json')\n\n  // if you need authorization token (stored in myToken) use this line of code: \n  // xhttp.setRequestHeader('Authorization', 'Bearer ' + myToken)\n\n  // if you need a key and it's not in the url use code in one of the following\n  // examples (think of headers as parameters)\n  // or just use the Postman url which has all the parameters already added like I did here. \n\n  // make the API request\n  xhttp.addEventListener('load', onXHRLoad)\n  xhttp.send()\n}\n\n// put down markers\nwindow.onload = function() {\n  callAPI(requestURL)\n}\n\nbtnCL4.onclick = function() {\n// description is what will show in Info window\n  for (i = 0; i < theaters.length; i++) {\n        infoTheaters[i] = {\n          \"description\": theaters[i].description + \"<br> \" + theaters[i].address,\n          \"lat\": theaters[i].lat,\n          \"lng\": theaters[i].lng\n        }\n  }\n  LoadMap()\n}\n\n// make the map with markers\nfunction LoadMap() {\n\n  var mapOptions = {\n    center: new google.maps.LatLng(infoTheaters[0].lat, infoTheaters[0].lng),\n    zoom: 13,\n    mapTypeId: google.maps.MapTypeId.ROADMAP\n  }\n  var map = new google.maps.Map(document.getElementById(\"dvMap\"), mapOptions)\n\n  //Create and open InfoWindow.\n  var infoWindow = new google.maps.InfoWindow()\n  var myLatlng\n  for ( i = 0; i < infoTheaters.length; i++) {\n    data = infoTheaters[i]\n    myLatLng = new google.maps.LatLng(data.lat, data.lng)\n    marker = new google.maps.Marker({\n      position: myLatLng,\n      map: map,\n      title: data.description\n    });    // leave semi-colon here\n    //Attach click event to the marker.\n    \n    /*  when function inside (), means it is self-starting function - just runs without being called. \n    () after closing }) shows functions' parameters (if any) */\n    (function(marker, data) {\n        google.maps.event.addListener(marker, \"click\", function(e) {\n              //Wrap the content inside an HTML DIV in order to set height and width of InfoWindow.\n              infoWindow.setContent(\"<div style = 'width:150px;min-height:35px'>\" + data.description + \"</div>\")\n              infoWindow.open(map, marker)\n          })   \n    }\n    )(marker, data)  \n    \n  }  // for looop\n}\n\n",
  "cached_js_script_hash": "210efa68e09a68f2df28e7bc7a03686c",
  "children": [
    {
      "!type": "Button_bs4",
      "_uuid": "0fa5b36d9868450e9dd92760bcb58786",
      "ChangeForm": "",
      "appearance": " btn-secondary",
      "backgroundColor": "",
      "badge": "",
      "badgeAppearance": " badge-info",
      "blockLevel": "",
      "borderColor": "",
      "borderStyle": "",
      "borderWidth": "",
      "bottom": "auto",
      "cached_js": "",
      "cached_js_script_hash": "d41d8cd98f00b204e9800998ecf8427e",
      "children": [],
      "class": "",
      "color": "",
      "disabled": "",
      "display": "",
      "expanded_pmp": true,
      "fontFamily": "",
      "fontSize": "",
      "fontStyle": "",
      "fontWeight": "",
      "groupStyle": "",
      "grouping": "",
      "height": 33,
      "hidden": "",
      "icon": "",
      "iconTitle": "",
      "id": "btnCL4",
      "left": 292,
      "mAll": "",
      "mBottom": "",
      "mLeft": "",
      "mRight": "",
      "mTop": "",
      "onclick": "btnCL4.onclick()",
      "onmousedown": "",
      "onmousemove": "",
      "onmouseout": "",
      "onmouseup": "",
      "onresize": "",
      "ontouchend": "",
      "ontouchmove": "",
      "ontouchstart": "",
      "outline": "",
      "pAll": "",
      "pBottom": "",
      "pLeft": "",
      "pRight": "",
      "pTop": "",
      "popBody": "Body",
      "popClose": "hover",
      "popPosition": "",
      "popStyle": "popover",
      "popTitle": "Title",
      "right": "auto",
      "script": "",
      "size": " btn-md",
      "style": "",
      "toggleControl": "",
      "top": 11,
      "value": "See map",
      "width": 94
    },
    {
      "!type": "HTMLview",
      "_uuid": "c927ce2dbb1c4f35b64af57cc115444b",
      "backgroundColor": "",
      "borderColor": "",
      "borderStyle": "",
      "borderWidth": "",
      "bottom": "auto",
      "cached_js": "",
      "cached_js_script_hash": "d41d8cd98f00b204e9800998ecf8427e",
      "children": [],
      "class": "",
      "color": "",
      "contenteditable": "",
      "disabled": "",
      "display": "",
      "expanded_pmp": true,
      "fontFamily": "",
      "fontSize": "",
      "fontStyle": "",
      "fontWeight": "",
      "height": "400",
      "hidden": "",
      "id": "HTMLview1",
      "innerHTML": "<div id=\"dvMap\" style=\"width: 500px; height: 350px\">",
      "left": 16,
      "name": "",
      "onchange": "",
      "onclick": "",
      "oncopy": "",
      "oncut": "",
      "onfocusin": "",
      "onfocusout": "",
      "oninput": "",
      "onmousedown": "",
      "onmousemove": "",
      "onmouseout": "",
      "onmouseup": "",
      "onpaste": "",
      "onresize": "",
      "ontouchend": "",
      "ontouchmove": "",
      "ontouchstart": "",
      "overflow": "auto",
      "required": "",
      "right": "auto",
      "script": "",
      "scroll_options": "mouseWheel:true, bounce: false, zoom:true",
      "scrolling": "false",
      "style": "",
      "top": 87,
      "width": "350"
    }
  ],
  "class": "",
  "designHeight": 500,
  "designWidth": 400,
  "expanded_pmp": true,
  "fullScreen": "true",
  "height": 460,
  "id": "Map4",
  "language": "JavaScript",
  "left": "0",
  "locked": false,
  "modal": "false",
  "onhide": "",
  "onkeypress": "",
  "onresize": "",
  "onshow": "",
  "openMode": "none",
  "parentForm": "",
  "position": "absolute",
  "script": "/*   TO USE THIS PROJECT \nThis project uses a Google Places API to get rental apartments by CU. \nIt then takes these results and uses them in a Google Maps API to make a map with clickable markers. \n\n1. Make sure your Google Project that the API key is for is attached to the Google Maps and Google Places API's (in Google Console > Libraries). \n2. Make sure your Google Project is attached to a billing account (you'll have to give them your credit card - you won't get charges, cancel after class is over)\n3. Add your own Google API key to the Project Property 'extra headers' as indicated.\n4. Add the same googleAPI key to the api call in 'requestURLApt' below as indicated\n*/\n\nlet requestURL = \"https://maps.googleapis.com/maps/api/place/textsearch/json?query=theater&key=AIzaSyAGZ6PSIvz339qdRJ2ZMf1EMxESs5rbdJ4&location=41.265331,-95.949364&radius=5000\"\nvar theaters = []\nvar infoTheaters = []\n\nfunction onXHRLoad() {\n  let message = \"\"\n\n  // 'this' is another name for the object returned from the API call\n  let apiData = JSON.parse(this.responseText)\n  // good data coming back from API call\n\n  for (i = 0; i < apiData.results.length; i++) \n    theaters[i] = {\n      \"description\": apiData.results[i].name,\n      \"lat\": apiData.results[i].geometry.location.lat,\n      \"lng\": apiData.results[i].geometry.location.lng,\n      \"address\": apiData.results[i].formatted_address\n  }\n}\n\nfunction callAPI(URL) {\n  var xhttp = new XMLHttpRequest()\n\n  // if you need cors (you'll get a cors error if you don't have it and you need it)\n  // use this code to add the cors code to your url \n  xhttp.open('GET', 'https://cors.bridged.cc/' + requestURL)\n\n  // if you DON'T need cors use this code:\n  //xhttp.open('GET',URL)\n\n  // Headers\n  // if you need to set the returned data type, use this line of code: \n  //xhttp.setRequestHeader('Content-Type', 'application/json')\n\n  // if you need authorization token (stored in myToken) use this line of code: \n  // xhttp.setRequestHeader('Authorization', 'Bearer ' + myToken)\n\n  // if you need a key and it's not in the url use code in one of the following\n  // examples (think of headers as parameters)\n  // or just use the Postman url which has all the parameters already added like I did here. \n\n  // make the API request\n  xhttp.addEventListener('load', onXHRLoad)\n  xhttp.send()\n}\n\n// put down markers\nwindow.onload = function() {\n  callAPI(requestURL)\n}\n\nbtnCL4.onclick = function() {\n// description is what will show in Info window\n  for (i = 0; i < theaters.length; i++) {\n        infoTheaters[i] = {\n          \"description\": theaters[i].description + \"<br> \" + theaters[i].address,\n          \"lat\": theaters[i].lat,\n          \"lng\": theaters[i].lng\n        }\n  }\n  LoadMap()\n}\n\n// make the map with markers\nfunction LoadMap() {\n\n  var mapOptions = {\n    center: new google.maps.LatLng(infoTheaters[0].lat, infoTheaters[0].lng),\n    zoom: 13,\n    mapTypeId: google.maps.MapTypeId.ROADMAP\n  }\n  var map = new google.maps.Map(document.getElementById(\"dvMap\"), mapOptions)\n\n  //Create and open InfoWindow.\n  var infoWindow = new google.maps.InfoWindow()\n  var myLatlng\n  for ( i = 0; i < infoTheaters.length; i++) {\n    data = infoTheaters[i]\n    myLatLng = new google.maps.LatLng(data.lat, data.lng)\n    marker = new google.maps.Marker({\n      position: myLatLng,\n      map: map,\n      title: data.description\n    });    // leave semi-colon here\n    //Attach click event to the marker.\n    \n    /*  when function inside (), means it is self-starting function - just runs without being called. \n    () after closing }) shows functions' parameters (if any) */\n    (function(marker, data) {\n        google.maps.event.addListener(marker, \"click\", function(e) {\n              //Wrap the content inside an HTML DIV in order to set height and width of InfoWindow.\n              infoWindow.setContent(\"<div style = 'width:150px;min-height:35px'>\" + data.description + \"</div>\")\n              infoWindow.open(map, marker)\n          })   \n    }\n    )(marker, data)  \n    \n  }  // for looop\n}\n\n",
  "setFocusID": "",
  "style": "",
  "theme": "",
  "top": "0",
  "width": "500",
  "_functions": [
    {
      "!type": "Form",
      "_uuid": "3cffefc0632848c6b24d8149fb23040e",
      "cached_js": "",
      "cached_js_script_hash": "d41d8cd98f00b204e9800998ecf8427e",
      "children": [],
      "expanded_pmp": true,
      "id": "onXHRLoad",
      "location": [
        14,
        15
      ],
      "script": "",
      "signature": "function onXHRLoad() {"
    },
    {
      "!type": "Form",
      "_uuid": "d3d6c5a0b94d4130839857c8f48c72c2",
      "cached_js": "",
      "cached_js_script_hash": "d41d8cd98f00b204e9800998ecf8427e",
      "children": [],
      "expanded_pmp": true,
      "id": "callAPI",
      "location": [
        30,
        31
      ],
      "script": "",
      "signature": "function callAPI(URL) {"
    },
    {
      "!type": "Form",
      "_uuid": "f864b38714b9467ea87115130e70a87b",
      "cached_js": "",
      "cached_js_script_hash": "d41d8cd98f00b204e9800998ecf8427e",
      "children": [],
      "expanded_pmp": true,
      "id": "window.onload",
      "location": [
        57,
        58
      ],
      "script": "",
      "signature": "window.onload = ("
    },
    {
      "!type": "Form",
      "_uuid": "3ae6a735a62d4424970e251e8c5ff2bd",
      "cached_js": "",
      "cached_js_script_hash": "d41d8cd98f00b204e9800998ecf8427e",
      "children": [],
      "expanded_pmp": true,
      "id": "btnCL4.onclick",
      "location": [
        61,
        62
      ],
      "script": "",
      "signature": "btnCL4.onclick = ("
    },
    {
      "!type": "Form",
      "_uuid": "74c9014fece24a8e9ba712bc31b90a15",
      "cached_js": "",
      "cached_js_script_hash": "d41d8cd98f00b204e9800998ecf8427e",
      "children": [],
      "expanded_pmp": true,
      "id": "LoadMap",
      "location": [
        74,
        75
      ],
      "script": "",
      "signature": "function LoadMap() {"
    },
    {
      "!type": "Form",
      "_uuid": "62dcdf073bc845e48c4c7b252a43a3ab",
      "cached_js": "",
      "cached_js_script_hash": "d41d8cd98f00b204e9800998ecf8427e",
      "children": [],
      "expanded_pmp": true,
      "id": "marker",
      "location": [
        98,
        99
      ],
      "script": "",
      "signature": "(function(marker, data) {"
    }
  ]
}